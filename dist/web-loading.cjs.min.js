"use strict";var t,e,i,o;function n(){return{custom:null,html:"",type:exports.LOADING_TYPES.DOM,extendClass:"extend",model:exports.MODEL_TYPES.GEAR,text:"加载中...",textGap:8,fontSize:12,fontFamily:"Microsoft YaHei",delay:65,notFeel:0,delayInto:320,optimization:!1,zIndex:"2001",themeColor:"rgba(64,158,255,1)",bgColor:"rgba(0, 0, 0, 0.8)",shadowColor:"rgba(64,158,255,0.6)",shadowOffsetX:2,shadowOffsetY:2,shadowBlur:5,pointerEvents:!1,toast:!0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LOADING_TYPES=void 0,(t=exports.LOADING_TYPES||(exports.LOADING_TYPES={})).DOM="dom",t.FULL="full",t.MINI="mini",exports.MODEL_TYPES=void 0,(e=exports.MODEL_TYPES||(exports.MODEL_TYPES={})).GEAR="Gear",e.RING="Ring",e.ZOOM="Zoom",e.PATTERN="Pattern",e.CLOCK="Clock",e.BEAN="Bean",e.ROLL="Roll",e.Circular="Circular",e.IMG="Img",e.SKELETON="Skeleton",exports.HOOKSCALL_KEY=void 0,(i=exports.HOOKSCALL_KEY||(exports.HOOKSCALL_KEY={})).BEFORE_COLSE="beforeColse",i.COLSED="colsed",exports.LOG_TYPES=void 0,(o=exports.LOG_TYPES||(exports.LOG_TYPES={}))[o.INFO=1]="INFO",o[o.WARN=2]="WARN",o[o.ERROR=3]="ERROR";var s,a,r,h,l=function(){function t(){}return t.info=function(t){this.call(t,exports.LOG_TYPES.INFO)},t.warn=function(t){this.call(t,exports.LOG_TYPES.WARN)},t.error=function(t){this.call(t,exports.LOG_TYPES.ERROR)},t.call=function(t,e,i){void 0===e&&(e=exports.LOG_TYPES.INFO),void 0===i&&(i={color:n().themeColor,bgColor:n().bgColor});var o=i.bgColor;2===e&&(o="#fffbe5"),3===e&&(o="#fff0f0");var s="\n      background:".concat(o,";\n      font-size:14px;\n      color:").concat(i.color,";\n      padding: 4px;\n      border: 1px solid;");console.log("%c web-loading:".concat(t," "),s)},t}();function c(t){switch(x(t)){case"object":return Object.keys(t).length>0;case"array":return t.length>0;case"undefined":default:return void 0!==t;case"null":return null!==t}}function p(t){window.requestAnimationFrame?window.cancelAnimationFrame(t):window.clearInterval(t)}function x(t){try{return Object.prototype.toString.call(t).split(" ")[1].split("]")[0].toLowerCase()}catch(t){return"not-type"}}function d(t,e){var i=null,o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in o)if(void 0!==t.style[n]){i=o[n];break}if(i){var s=function(){e(),t.removeEventListener(i,s)};t.addEventListener(i,s)}else e()}function u(){var t=String(Date.now());return window.crypto&&window.crypto.randomUUID&&(t=window.crypto.randomUUID()),"wl_"+t.replace(/-/g,"")}exports.ZOOM_ACTION=void 0,(s=exports.ZOOM_ACTION||(exports.ZOOM_ACTION={})).SCALE="scale",s.WAVE="wave",s.HEIGHT="height",exports.PATTERN_CHART=void 0,(a=exports.PATTERN_CHART||(exports.PATTERN_CHART={})).RECT="rect",a.ARC="arc",a.TRIANGLE="triangle",a.HEART="heart",a.POLYGON="polygon",exports.ROLL_CHART=void 0,(r=exports.ROLL_CHART||(exports.ROLL_CHART={})).RECT="rect",r.WHEEL="wheel",r.WINDMILL="windmill",exports.CIRCULAR_ACTION=void 0,(h=exports.CIRCULAR_ACTION||(exports.CIRCULAR_ACTION={})).COLLISION="collision",h.ROTATE="rotate";var w=function(){function t(t,e,i,o,n,s,a,r){this.modelDefOptions=void 0,this.limits=void 0,this.modelDefCall=void 0,this.webLog=l,this.stepClear=1,this.w=t,this.h=e,this.canvas=i,this.ctx=i.getContext("2d"),this.options=o,this.element=n,this.initContextCall(s,a,r)}return t.prototype._$initBaseContext=function(){this.clearRect(),this.ctx.resetTransform();var t=this.options,e=this.canvas.width,i=this.canvas.height;this.ctx.fillStyle=t.themeColor,this.ctx.strokeStyle=t.themeColor,this.ctx.shadowColor=t.shadowColor,this.ctx.font="".concat(t.fontSize,"px ").concat(t.fontFamily," small-caps"),this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.translate(e/2,i/2);var o=window.devicePixelRatio||1;this.ctx.scale(o,o),this.ctx.save()},t.prototype._$initEvent=function(){var t=this;this.element.$store.hookCall.beforeColse((function(){t.clearRect()}))},t.prototype._$animationFrame=function(t){var e=this;window.requestAnimationFrame||(this.element.$store.animationId=window.setInterval(t,this.options.delay));var i=Date.now()+this.options.delay;t.call(this);var o=function(){Date.now()>i&&(t.call(e),i=Date.now()+e.options.delay),e.element.$store.animationId=window.requestAnimationFrame(o)};this.element.$store.animationId=window.requestAnimationFrame(o)},t.prototype.initContextCall=function(t,e,i){var o=this;this._$initBaseContext(),this._$initEvent(),c(t)&&(this.modelDefOptions=t,this.options=Object.assign(t,this.options),this.element.$store.options=this.options,e&&e.length&&this.options.toast&&e.forEach((function(t){var e=o.options[t.key];c(e)&&!t.limit(e)&&l.warn(t.message)}))),c(e)&&(this.limits=e),c(i)&&i.call(this,this)},t.prototype.run=function(t){this.element.$store.animationId&&this.clearAnimationFrame(this.element.$store.animationId),this._$animationFrame(t)},t.prototype.clearAnimationFrame=function(t){p(t)},t.prototype.clearRect=function(t,e,i,o){var n=this.canvas.width,s=this.canvas.height;if(c(t)&&c(e)&&c(i)&&c(o))this.ctx.clearRect(t,e,i,o);else if(c(t)&&c(e)&&c(i)&&!c(o)){var a=i-this.stepClear,r=Math.sqrt(i*i-a*a),h=t-a,l=e-r,p=2*a,x=2*r;this.stepClear<=i?(this.ctx.clearRect(h,l,p,x),this.stepClear+=1,this.clearRect(t,e,i)):this.stepClear=1}else this.ctx.clearRect(-n,-s,2*n,2*s)},t.prototype.drowRadiusRect=function(t,e,i,o,n){this.ctx.beginPath(),this.ctx.arc(t+n,e+n,n,1*Math.PI,1.5*Math.PI),this.ctx.lineTo(t+i-n,e),this.ctx.arc(t+i-n,e+n,n,1.5*Math.PI,0),this.ctx.lineTo(t+i,e+o-n),this.ctx.arc(t+i-n,e+o-n,n,0,.5*Math.PI),this.ctx.lineTo(t+n,e+o),this.ctx.arc(t+n,e+o-n,n,.5*Math.PI,Math.PI),this.ctx.lineTo(t,e+n),this.ctx.closePath()},t.prototype.drawText=function(t){var e=this.options,i=Object.assign({esGap:e.textGap||0,x:0,text:e.text||"",textColor:e.themeColor||"rgba(64,158,255,1)"},t);this.ctx.save(),this.ctx.beginPath(),this.ctx.fillStyle=i.textColor,this.ctx.fillText(i.text,i.x,(e.textGap||0)+(e.fontSize||0)+i.esGap),this.ctx.closePath(),this.ctx.restore()},t}(),f=function(t,e){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},f(t,e)};function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var g={lineStart:10,lineEnd:16,lineStartSkew:0,lineEndSkew:0,lineWidth:4,lineCap:"round",lineNum:10,direction:!0},A=[{key:"lineNum",message:"lineNum value 4-18",limit:function(t){return t>=4&&t<=18}}],C=function(t){function e(e,i,o,n,s){var a=t.call(this,e,i,o,n,s,g,A,(function(t){var e=t.options;t.ctx.lineCap=e.lineCap,t.ctx.lineWidth=e.lineWidth,t.ctx.save()}))||this;return a.optimization(a.options.textGap+a.options.lineEnd),a.aps=Array.from({length:a.options.lineNum},(function(t,e){return e})),a.run(a.draw),a}return m(e,t),e.prototype.draw=function(){this.clearRect(),this.controller(),this.drawGear();var t=this.options;this.drawText({esGap:t.lineEnd})},e.prototype.controller=function(){var t=this;this.options.direction?this.aps=this.aps.map((function(e){return e-1<=0?t.aps.length-1:e-1})):this.aps=this.aps.map((function(e){return e+1>t.aps.length?0:e+1}))},e.prototype.drawGear=function(){var t=this.options;this.ctx.save(),this.ctx.shadowOffsetX=t.shadowOffsetX,this.ctx.shadowOffsetY=t.shadowOffsetY,this.ctx.shadowBlur=t.shadowBlur;for(var e=0;e<this.aps.length;e++)this.ctx.beginPath(),this.ctx.globalAlpha=this.aps[e]/10,this.ctx.moveTo(t.lineEndSkew,t.lineStart),this.ctx.lineTo(t.lineStartSkew,t.lineEnd),this.ctx.stroke(),this.ctx.closePath(),this.ctx.rotate(2*Math.PI/t.lineNum);this.ctx.restore()},e.prototype.optimization=function(t){this.options.optimization&&4*t>this.h&&(this.options.lineStart=this.h/6-5,this.options.lineEnd=this.h/6,this.options.textGap=2)},e}(w),v={zoomGap:10,maxSize:16,zoomNum:5,lineWidth:10,zoomHeight:2,lineCap:"round",action:exports.ZOOM_ACTION.SCALE,direction:!0,zoomColors:[]},S=[{key:"lineWidth",message:"lineWidth(default:10) <=  maxSize(default:16)",limit:function(t){return t<=v.maxSize}},{key:"maxSize",message:"lineWidth(default:10) <=  maxSize(default:16)",limit:function(t){return v.lineWidth<=t}}],E=function(t){function e(e,i,o,n,s){var a=t.call(this,e,i,o,n,s,v,S,(function(t){var e=t.options;t.ctx.lineCap=e.lineCap,t.ctx.lineWidth=e.lineWidth,t.ctx.translate(-(e.lineWidth*(e.zoomNum+1)+e.zoomGap*(e.zoomNum+1))/2,-e.zoomHeight/2),t.ctx.save()}))||this;return a.zoomIndex=a.options.direction?0:a.options.zoomNum-1,a.list=Array.from({length:a.options.zoomNum},(function(t,e){return Object.assign({value:a.options.lineWidth,state:0})})),a.run(a.draw),a}return m(e,t),e.prototype.draw=function(){this.clearRect(),this.drawZoom();var t=this.options;this.drawText({esGap:t.maxSize,x:(t.lineWidth*(t.zoomNum+1)+t.zoomGap*(t.zoomNum+1))/2}),this.controller()},e.prototype.controller=function(){var t=this.options;t.direction&&this.zoomIndex>=t.zoomNum?this.zoomIndex=0:t.direction&&this.zoomIndex<0&&(this.zoomIndex=t.zoomNum-1)},e.prototype.drawZoom=function(){for(var t=this.options,e=0;e<t.zoomNum;e++){1===this.list[e].state?this.list[e].value+=2:2===this.list[e].state&&this.list[e].value>=t.lineWidth&&this.list[e].value--,t.action===exports.ZOOM_ACTION.SCALE&&(this.ctx.lineWidth=this.list[e].value),e===this.zoomIndex&&(this.list[e].value>t.maxSize&&(this.list[e].state=2,t.direction?this.zoomIndex++:this.zoomIndex-1>=0?this.zoomIndex--:this.zoomIndex=t.zoomNum-1),this.list[e].value<=t.lineWidth&&(this.list[e].state=1)),this.ctx.beginPath(),t.zoomColors.length>0&&t.zoomColors[e]?this.ctx.strokeStyle=t.zoomColors[e]:this.ctx.strokeStyle=t.themeColor;var i=0,o=t.zoomHeight;t.action!==exports.ZOOM_ACTION.HEIGHT&&t.action!==exports.ZOOM_ACTION.WAVE||(i=-this.list[e].value),t.action===exports.ZOOM_ACTION.WAVE&&(o=-this.list[e].value),this.ctx.moveTo((e+1)*(t.lineWidth+t.zoomGap),i),this.ctx.lineTo((e+1)*(t.lineWidth+t.zoomGap),o),this.ctx.stroke(),this.ctx.closePath()}},e}(w),y={arcGap:Math.PI/4,ringGap:10,lineWidth:2,ringNum:2,radius:6,lineCap:"round",turn:10,ringsTurn:[Math.PI,Math.PI/4],direction:!0},O=[{key:"ringNum",message:"ringNum value 1-10",limit:function(t){return t>=1&&t<=10}},{key:"ringsTurn",message:"ringsTurn size ".concat(y.ringNum),limit:function(t){return t.length<=y.ringNum}}],T=function(t){function e(e,i,o,n,s){var a=t.call(this,e,i,o,n,s,y,O,(function(t){var e=t.options;t.ctx.lineCap=e.lineCap,t.ctx.lineWidth=e.lineWidth,t.ctx.save()}))||this;return a.rotate=10,a.run(a.draw),a}return m(e,t),e.prototype.draw=function(){this.clearRect(),this.controller();var t=this.options;this.drawText({esGap:t.ringNum*(t.radius+t.ringGap/2)})},e.prototype.controller=function(){this.ctx.save();var t=this.options,e=this.rotate*Math.PI/180*(t.direction?1:-1);this.ctx.rotate(e),this.ctx.shadowOffsetX=t.shadowOffsetX,this.ctx.shadowOffsetY=t.shadowOffsetY,this.ctx.shadowBlur=t.shadowBlur;for(var i=1;i<=t.ringNum;i++)this.drawRing(t.radius+(i-1)*t.ringGap,t.arcGap,t.ringsTurn&&t.ringsTurn.length>0?t.ringsTurn[i-1]:Math.PI/i);this.rotate+=t.turn,this.ctx.restore()},e.prototype.drawRing=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=0),this.ctx.beginPath(),this.ctx.arc(0,0,t,e+i,Math.PI+i),this.ctx.stroke(),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.arc(0,0,t,Math.PI+e+i,i),this.ctx.stroke(),this.ctx.closePath()},e}(w),I={beanSize:15,pointLength:15},P=[{key:"pointLength",message:"pointLength value >= 5",limit:function(t){return t>=5}},{key:"beanSize",message:"beanSize value >= 5",limit:function(t){return t>=5}}],R=function(t){function e(e,i,o,n,s){var a=t.call(this,e,i,o,n,s,I,P)||this;return a.bean={turn:30,state:1,beanState:1,nowX:-a.options.pointLength*a.options.beanSize/2-3*a.options.beanSize,beans:Array.from({length:a.options.pointLength},(function(){return 1})),beanAnimaIndex:0},a.options.delay=10,a.run(a.draw),a}return m(e,t),e.prototype.draw=function(){var t=this.options;this.clearRect(),this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(this.bean.nowX,0),this.ctx.arc(0,0,t.beanSize,(360-this.bean.turn)*Math.PI/180,this.bean.turn*Math.PI/180,!0),this.ctx.lineTo(0,0),this.ctx.fill(),this.ctx.closePath(),this.ctx.restore(),this.drawPoint(),this.drawFillter(),this.drawText({esGap:t.beanSize}),this.controller()},e.prototype.controller=function(){var t=this.options;this.bean.nowX>=t.pointLength*t.beanSize/2+2*t.beanSize&&(this.bean.nowX=-t.pointLength*t.beanSize/2-3*t.beanSize,this.bean.beanAnimaIndex=0),this.bean.nowX<=-t.pointLength*t.beanSize/2&&(this.bean.beanState=2),this.bean.turn<=0&&(this.bean.state=2),this.bean.turn>=30&&(this.bean.state=1),1===this.bean.state&&(this.bean.turn-=1),2===this.bean.state&&(this.bean.turn+=1),1===this.bean.beanState&&(this.bean.nowX-=1),2===this.bean.beanState&&(this.bean.nowX+=1)},e.prototype.drawPoint=function(){var t=this.options;this.ctx.save(),this.setShadow(),this.ctx.translate(-t.pointLength*t.beanSize/2,0);for(var e=0;e<t.pointLength&&e<this.bean.beanAnimaIndex;e++)this.ctx.beginPath(),e<this.bean.beanAnimaIndex&&this.ctx.arc(t.beanSize*e,0,t.beanSize/4,0,2*Math.PI),this.ctx.fill(),this.ctx.closePath();this.bean.beanAnimaIndex+=.2,this.ctx.restore()},e.prototype.drawFillter=function(){var t=this.options;this.clearRect(-t.beanSize/3+this.bean.nowX,-t.beanSize/2,t.beanSize/4),this.clearRect(-t.pointLength*t.beanSize/2-t.beanSize/2+.2,-this.h,this.bean.nowX+t.pointLength*t.beanSize/2-t.beanSize/2,2*this.h),this.clearRect(-t.pointLength*t.beanSize/2,-this.h,-180,2*this.h),this.clearRect(t.pointLength*t.beanSize/2,-this.h,180,2*this.h)},e.prototype.setShadow=function(){var t=this.options;this.ctx.shadowOffsetX=t.shadowOffsetX,this.ctx.shadowOffsetY=t.shadowOffsetY,this.ctx.shadowBlur=t.shadowBlur},e}(w),b={lineCap:"round",lineWidth:2,lineColors:["#d4d4d4","#06ab2d","#8a0303"],clockSize:15,clockGap:4,hLine:!0,mLine:!1,sLine:!0,textTime:""},L=[{key:"lineColors",message:"lineColors.length <= 3",limit:function(t){return t.length<=3}}],z=function(t){function e(e,i,o,n,s){var a=t.call(this,e,i,o,n,s,b,L,(function(t){var e=t.options;t.ctx.lineCap=e.lineCap,t.ctx.lineWidth=e.lineWidth,t.ctx.save()}))||this;return a.nowTime=-1,a.nowS=0,a.run(a.draw),a}return m(e,t),e.prototype.draw=function(){this.clearRect(),this.drawClock()},e.prototype.drawClock=function(){var t=this.options,e=(new Date).getSeconds(),i=(new Date).getMinutes(),o=(new Date).getHours();this.ctx.save(),this.ctx.beginPath(),this.setShadow(),this.ctx.moveTo(-5,-(t.clockSize+t.clockGap)),this.ctx.lineTo(5,-(t.clockSize+t.clockGap)),this.ctx.stroke(),this.ctx.closePath(),this.ctx.beginPath(),this.setShadow(),this.ctx.arc(0,0,t.clockSize,0,2*Math.PI),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore(),this.ctx.save();for(var n=0;n<12;n++)this.ctx.beginPath(),this.ctx.rotate(30*Math.PI/180),this.ctx.moveTo(t.clockSize-t.clockGap,0),this.ctx.lineTo(t.clockSize-t.clockGap,0),this.ctx.stroke(),this.ctx.closePath();this.ctx.restore(),t.hLine&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.lineWidth=1.6*t.lineWidth,t.lineColors[0]&&(this.ctx.strokeStyle=t.lineColors[0]),this.ctx.rotate(-90*Math.PI/180),this.ctx.rotate(360*o/60*Math.PI/180),this.ctx.moveTo(-1,0),this.ctx.lineTo(t.clockSize/2,0),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore()),t.mLine&&(this.ctx.save(),this.ctx.beginPath(),t.lineColors[1]&&(this.ctx.strokeStyle=t.lineColors[1]),this.ctx.lineWidth=1.2*t.lineWidth,this.ctx.rotate(-90*Math.PI/180),this.ctx.rotate(360*i/60*Math.PI/180),this.ctx.moveTo(-1,0),this.ctx.lineTo(t.clockSize/2+t.clockGap,0),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore()),t.sLine&&(this.ctx.save(),this.ctx.beginPath(),t.lineColors[2]&&(this.ctx.strokeStyle=t.lineColors[2]),this.ctx.rotate(-90*Math.PI/180),this.ctx.rotate(360*e/60*Math.PI/180),this.ctx.moveTo(-1,0),this.ctx.lineTo(t.clockSize-t.clockGap,0),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore(),this.nowS!==e&&this.nowTime++,this.nowS=e),"time"===t.textTime&&(t.text="".concat(o," : ").concat(i," : ").concat(e)),"s"===t.textTime&&(t.text=this.nowTime+"s"),this.drawText({esGap:2*t.clockSize})},e.prototype.setShadow=function(){var t=this.options;this.ctx.shadowOffsetX=t.shadowOffsetX,this.ctx.shadowOffsetY=t.shadowOffsetY,this.ctx.shadowBlur=t.shadowBlur},e}(w),k={charts:[exports.PATTERN_CHART.ARC,exports.PATTERN_CHART.RECT,exports.PATTERN_CHART.TRIANGLE,exports.PATTERN_CHART.HEART,exports.PATTERN_CHART.POLYGON],chartColors:["#409EFF","#67C23A","#E6A23C","#F56C6C","#0960bd"],maxHeight:60,chartSize:12},N=[{key:"chartSize",message:"chartSize value 5-24",limit:function(t){return t>=5&&t<=24}},{key:"delay",message:"Pattern.delay not allowed update",limit:function(t){return t===n().delay}}],G=function(t){function e(e,i,o,n,s){var a=t.call(this,e,i,o,n,s,k,N,(function(t){t.options.delay=10}))||this;return a.pattern={color:a.randomState("chartColors"),nowHeight:10,chart:a.randomState("charts"),shadow:0,nowSatate:1,turn:0},a.run(a.draw),a}return m(e,t),e.prototype.draw=function(){var t=this.options;this.clearRect(),this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(0,this.pattern.nowHeight),this.ctx.rotate(this.pattern.turn/Math.PI*2),this.ctx.fillStyle=this.pattern.color,this.selectChart(0,0,t.chartSize),this.ctx.closePath(),this.ctx.restore(),this.drawShadow(),this.clearRect(-this.w,0,2*this.w,this.h),this.controller(t),this.drawText({textColor:this.pattern.color})},e.prototype.controller=function(t){this.pattern.turn+=10,1===this.pattern.nowSatate?(this.pattern.nowHeight--,this.pattern.shadow+=.2):2===this.pattern.nowSatate&&(this.pattern.nowHeight++,this.pattern.shadow-=.2),this.pattern.shadow=Math.floor(100*this.pattern.shadow)/100,this.pattern.nowHeight<=-t.chartSize&&this.pattern.nowHeight%8==0&&(t.delay+=.5,t.delay=Math.floor(100*t.delay)/100),this.pattern.nowHeight<=-t.maxHeight?this.pattern.nowSatate=2:this.pattern.nowHeight>=t.chartSize&&(this.pattern.nowSatate=1,t.delay=10,this.pattern.chart=this.randomState("charts"),this.pattern.color=this.randomState("chartColors"))},e.prototype.selectChart=function(t,e,i){switch(this.pattern.chart){case exports.PATTERN_CHART.RECT:this.drawRect(t,e,i);break;case exports.PATTERN_CHART.ARC:this.drawArc(t,e,i);break;case exports.PATTERN_CHART.TRIANGLE:this.drawTriangle(t,e,i);break;case exports.PATTERN_CHART.HEART:this.drawHeart(t,e,i);break;case exports.PATTERN_CHART.POLYGON:this.drawPolygon(t,e,i)}},e.prototype.randomState=function(t){var e=this.options;return e[t][parseInt(String(Math.random()*e[t].length))]},e.prototype.drawShadow=function(){this.ctx.save(),this.ctx.beginPath(),this.setShadow(),this.ctx.globalAlpha=.2,this.ctx.strokeStyle=this.pattern.color,this.ctx.moveTo(-this.pattern.shadow/2,0),this.ctx.lineTo(this.pattern.shadow,0),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.restore()},e.prototype.drawRect=function(t,e,i){this.ctx.save(),this.ctx.beginPath(),this.setShadow(),this.ctx.translate(-i/2,-i/2),this.ctx.fillRect(t,e,i,i),this.ctx.closePath(),this.ctx.restore()},e.prototype.drawArc=function(t,e,i){this.ctx.save(),this.ctx.beginPath(),this.setShadow(),this.ctx.arc(t,e,i/2,0,2*Math.PI),this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()},e.prototype.drawTriangle=function(t,e,i){this.ctx.save(),this.ctx.beginPath(),this.setShadow(),this.ctx.translate(-i/2,-i/2*Math.sqrt(3)/2),this.ctx.moveTo(t,e),this.ctx.lineTo(i,0),this.ctx.lineTo(i/2,i/2*Math.sqrt(3)),this.ctx.lineTo(t,e),this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()},e.prototype.drawHeart=function(t,e,i){i/=2,this.ctx.save(),this.ctx.beginPath(),this.setShadow(),this.ctx.translate(0,-2*i/2),this.ctx.moveTo(t,e),this.ctx.bezierCurveTo(i/2,-i,3*i,-i/2,e,2*i),this.ctx.moveTo(t,e),this.ctx.bezierCurveTo(-i/2,-i,3*-i,-i/2,e,2*i),this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()},e.prototype.drawPolygon=function(t,e,i){this.ctx.save(),this.ctx.beginPath(),this.setShadow(),this.ctx.translate(-i/2,-i/2),this.ctx.moveTo(t,e),this.ctx.lineTo(i,e),this.ctx.lineTo(i+i/2,i/2),this.ctx.lineTo(i,i/2+i/2),this.ctx.lineTo(t,i),this.ctx.lineTo(t-i/2,i-i/2),this.ctx.lineTo(t,e),this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()},e.prototype.setShadow=function(){var t=this.options;this.ctx.shadowColor=this.pattern.color,this.ctx.shadowOffsetX=t.shadowOffsetX,this.ctx.shadowOffsetY=t.shadowOffsetY,this.ctx.shadowBlur=t.shadowBlur},e}(w),M={rollGap:12,childNum:4,rollSize:16,showChild:!0,chart:exports.ROLL_CHART.WHEEL,windmills:["#1ab3ea","#de6834","#30925d","#f48ea5"],windmillPointColor:"#f2c31f",fixad:!1},H=[{key:"childNum",message:"chartSize value 4-10",limit:function(t){return t>=4&&t<=10}},{key:"delay",message:"Roll.delay not allowed update",limit:function(t){return t===n().delay}}],D=function(t){function e(e,i,o,n,s){var a=t.call(this,e,i,o,n,s,M,H)||this;return a.Roll={turn:1,nowX:a.options.fixad?0:a.options.childNum/2*(a.options.rollSize+a.options.rollGap)+a.options.rollGap/2,state:2,child:[]},a.run(a.draw),a}return m(e,t),e.prototype.draw=function(){this.clearRect(),this.drawGround(),this.drawChild(),this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(-this.Roll.nowX,0),this.ctx.rotate(this.Roll.turn*Math.PI/180),this.selectChart(),this.controller(),this.ctx.restore();var t=this.options;this.drawText({esGap:t.rollSize})},e.prototype.selectChart=function(){switch(this.options.chart){case exports.ROLL_CHART.RECT:this.drawRect();break;case exports.ROLL_CHART.WHEEL:this.drawWheel();break;case exports.ROLL_CHART.WINDMILL:this.drawWindmill()}},e.prototype.controller=function(){var t=this.options;if(1===this.Roll.state&&(this.Roll.turn-=10,t.delay<20&&!t.fixad&&(t.delay+=2)),2===this.Roll.state&&(this.Roll.turn+=10,t.delay>10&&!t.fixad&&(t.delay-=5)),!t.fixad){this.Roll.nowX<=-t.childNum/2*(t.rollSize+t.rollGap/1.6)&&(this.Roll.state=1),this.Roll.nowX>=t.childNum/2*(t.rollSize+t.rollGap)+t.rollGap/2&&(this.Roll.state=2),1===this.Roll.state&&this.Roll.nowX++,2===this.Roll.state&&this.Roll.nowX--;var e=this.Roll.child;this.Roll.nowX%(t.rollSize+t.rollGap)==0&&2===this.Roll.state&&e.push({turn:this.Roll.turn,x:this.Roll.nowX}),1===this.Roll.state&&e[e.length-1]&&e[e.length-1].x===this.Roll.nowX&&this.Roll.child.pop()}},e.prototype.drawRect=function(){var t=this.options;this.ctx.save(),this.setShadow(),this.ctx.translate(-t.rollSize/2,-t.rollSize/2),this.ctx.fillRect(0,0,t.rollSize,t.rollSize),this.ctx.restore()},e.prototype.drawWheel=function(){var t=this.options;this.ctx.save(),this.ctx.lineWidth=4,this.ctx.beginPath(),this.ctx.arc(0,0,t.rollSize/6,0,2*Math.PI),this.ctx.stroke(),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.arc(0,0,t.rollSize/2,0,2*Math.PI),this.ctx.stroke(),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.arc(0,0,t.rollSize,0,2*Math.PI),this.ctx.stroke(),this.ctx.closePath();for(var e=0;e<6;e++)this.ctx.beginPath(),this.ctx.moveTo(0,t.rollSize/2),this.ctx.lineTo(0,t.rollSize),this.ctx.stroke(),this.ctx.rotate(60*Math.PI/180),this.ctx.closePath();this.ctx.restore()},e.prototype.drawWindmill=function(){var t=this.options;this.ctx.save();for(var e=0;e<t.windmills.length;e++)this.ctx.beginPath(),this.ctx.fillStyle=t.windmills[e],this.ctx.arc(-t.rollSize/2,0,t.rollSize,0,Math.PI),this.ctx.fill(),this.ctx.closePath(),this.ctx.rotate(90*Math.PI/180);this.ctx.beginPath(),this.ctx.fillStyle=t.windmillPointColor,this.ctx.arc(0,0,t.rollSize/2,0,2*Math.PI),this.ctx.fill(),this.ctx.restore()},e.prototype.drawChild=function(){var t=this;this.options.showChild&&this.Roll.child.forEach((function(e,i){t.ctx.save(),t.ctx.translate(-e.x,0),t.ctx.globalAlpha=(i+1)/10,t.ctx.rotate(e.turn*Math.PI/180),t.selectChart(),t.ctx.restore()}))},e.prototype.drawGround=function(){var t=this.options;t.chart===exports.ROLL_CHART.WHEEL&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.lineWidth=3,this.ctx.globalAlpha=.03,this.ctx.moveTo(-t.childNum/2*(t.rollSize+t.rollGap/1.6),t.rollSize+3),this.ctx.lineTo(t.childNum/2*(t.rollSize+t.rollGap)+t.rollGap/2,t.rollSize+3),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore())},e.prototype.setShadow=function(){var t=this.options;this.ctx.shadowOffsetX=t.shadowOffsetX,this.ctx.shadowOffsetY=t.shadowOffsetY,this.ctx.shadowBlur=t.shadowBlur},e}(w),Y={arcSize:8,arcGap:2,arcColors:["#ec7546","#8364a4","#ff6c6e","#5bc6ab"],action:exports.CIRCULAR_ACTION.COLLISION},W={src:"data:image/png;base64,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",width:52,height:52,turn:!0},B={skeletonColor:"rgb(240, 240, 240)",skeletonAnimationColor:"rgb(226, 226, 226)",radius:5,animation:!0,deep:!0,appoint:""},j={Gear:C,Zoom:E,Ring:T,Bean:R,Clock:z,Pattern:G,Roll:D,Circular:function(t){function e(e,i,o,n,s){var a=t.call(this,e,i,o,n,s,Y)||this,r=a.options,h=2*r.arcSize+r.arcGap;return a.collsionPoint=[{key:0,state:!1,y:-h,x:0},{key:1,state:!1,y:h,x:0},{key:2,state:!1,y:0,x:h},{key:3,state:!1,y:0,x:-h}],a.turn=0,a.run(a.draw),a}return m(e,t),e.prototype.draw=function(){this.clearRect(),this.ctx.save();var t=this.options;t.action===exports.CIRCULAR_ACTION.COLLISION?this.controller():t.action===exports.CIRCULAR_ACTION.ROTATE&&(this.ctx.rotate(this.turn*Math.PI/180),this.turn+=10),this.drawCircular(),this.ctx.restore(),this.drawText({esGap:4*t.arcSize+2*t.arcGap})},e.prototype.controller=function(){var t=this.options;this.collsionPoint.forEach((function(e){var i="y";switch(e.key){case 0:case 1:i="y";break;case 2:case 3:i="x"}var o=2*t.arcSize+t.arcGap;e[i]===-o&&(e.state=!0),e[i]===o&&(e.state=!1),e.state?e[i]++:e[i]--}))},e.prototype.drawCircular=function(){var t=this,e=this.options;this.collsionPoint.forEach((function(i,o){if(t.ctx.save(),t.ctx.beginPath(),e.arcColors[o]){var n=e.arcColors[o];t.setShadow(n),t.ctx.fillStyle=n}t.ctx.arc(i.x,i.y,e.arcSize,0,2*Math.PI),t.ctx.fill(),t.ctx.closePath(),t.ctx.restore()}))},e.prototype.setShadow=function(t){var e=this.options;t&&(this.ctx.shadowColor=t),this.ctx.shadowOffsetX=e.shadowOffsetX,this.ctx.shadowOffsetY=e.shadowOffsetY,this.ctx.shadowBlur=e.shadowBlur},e}(w),Img:function(t){function e(e,i,o,n,s){var a=t.call(this,e,i,o,n,s,W)||this;return a.img=new Image,a.img.src=a.options.src,a.turn=10,a.img.onload=function(){a.run(a.draw)},a}return m(e,t),e.prototype.draw=function(){this.clearRect(),this.drawImg();var t=this.options;this.drawText({esGap:t.height/2})},e.prototype.drawImg=function(){var t=this.options;this.ctx.save(),t.turn&&this.ctx.rotate(this.turn*Math.PI/180),this.ctx.drawImage(this.img,-t.width/2,-t.height/2,t.width,t.height),this.ctx.closePath(),this.ctx.restore(),this.turn+=10},e}(w),Skeleton:function(t){function e(e,i,o,n,s){var a=t.call(this,e,i,o,n,s,B,[],(function(t){var e=t.options;t.ctx.translate(-t.w/2,-t.h/2),t.canvas.width=t.element.scrollWidth,t.canvas.height=t.element.scrollHeight,t.ctx.fillStyle=e.skeletonColor}))||this;return a.skeleton=[],a.colorFlow=0,a.state=1,a.WL_IMG="wl-img",a.controller(a.element.children),a.run(a.draw),a}return m(e,t),e.prototype.draw=function(){this.clearRect(),this.drawSkeleton()},e.prototype.controller=function(t){for(var e=this.options,i=0,o=Array.from(t);i<o.length;i++){var n=o[i];this.element.loadingId!==n.id&&(e.appoint.length>0&&null===n.getAttribute(e.appoint)||(e.deep?n.children.length<=0?this.skeleton.push({title:n.nodeName,element:n}):this.controller(n.children):this.skeleton.push({title:n.nodeName,element:n})))}},e.prototype.drawSkeleton=function(){var t=this,e=this.options,i=this.ctx.createLinearGradient(0,0,this.w,this.h);i.addColorStop(0,e.skeletonColor),i.addColorStop(this.colorFlow,e.skeletonAnimationColor),i.addColorStop(1,e.skeletonColor),e.animation&&(this.ctx.fillStyle=i),this.skeleton.forEach((function(i){var o=i.element;t.drowRadiusRect(o.offsetLeft,o.offsetTop,o.offsetWidth,o.offsetHeight,e.radius),t.ctx.fill()})),e.animation&&(this.colorFlow>=.9&&(this.state=2),this.colorFlow<=.1&&(this.state=1),1===this.state&&(this.colorFlow+=.06),2===this.state&&(this.colorFlow-=.06))},e}(w)};function Q(t,e,i,o,n){try{var s=n.$store.model;if(s)s.initContextCall(s.modelDefOptions,s.limits,s.modelDefCall);else{s=o.custom?new o.custom(t,e,i,o,n):new j[o.model](t,e,i,o,n)}}catch(t){l.error("draw error("+t+")")}}var F=window;function X(){var t;return(t={})[exports.HOOKSCALL_KEY.BEFORE_COLSE]=[],t[exports.HOOKSCALL_KEY.COLSED]=[],t}function _(t){var e;return(e={})[exports.HOOKSCALL_KEY.BEFORE_COLSE]=function(e){t[exports.HOOKSCALL_KEY.BEFORE_COLSE].push(e)},e[exports.HOOKSCALL_KEY.COLSED]=function(e){t[exports.HOOKSCALL_KEY.COLSED].push(e)},e}var K=window;function J(t,e,i,o){var n=e.pointerEvents?t.scrollWidth:t.clientWidth,s=e.pointerEvents?t.scrollHeight:t.clientHeight,a=K.getComputedStyle(t),r=t.style,h=o.style;return e.type!==exports.LOADING_TYPES.DOM||e.pointerEvents||(t.style.pointerEvents="none"),a.position&&"static"!==a.position||(r.position="relative"),o.id=i,h.opacity="0",h.position="absolute",h.left="".concat(e.pointerEvents?0:t.scrollLeft,"px"),h.top="".concat(e.pointerEvents?0:t.scrollTop,"px"),h.zIndex=e.zIndex,h.transition="".concat(e.delayInto/1e3,"s ease-in-out"),h.backgroundColor=e.bgColor,h.borderRadius=a.borderRadius,"htmlcanvaselement"===x(o)?U(o,n,s):"htmldivelement"===x(o)&&(h.width="".concat(n,"px"),h.height="".concat(s,"px"),h.display="flex",h.alignItems="center",h.justifyContent="center"),t.append(o),K.setTimeout((function(){return h.opacity="1"}),0),d(t,(function(){t.$store.loadingId=i})),t}function U(t,e,i){var o=K.devicePixelRatio||1;t.width=e*o,t.height=i*o,t.style.width="".concat(e,"px"),t.style.height="".concat(i,"px")}var Z=window,V=function(){function t(t){this.canvas=null,this.htmlElement=null,this.loadingId=null,this.element=null,this.hooks=null,this.resizeTimeId=null,this.options=Object.assign(n(),t)}return t.prototype.resize=function(t,e){var i=this;this.resizeTimeId||(this.resizeTimeId=Z.setTimeout((function(){var o=e,n=t.clientWidth,s=t.clientHeight;o.width>t.clientWidth&&(n=t.offsetWidth,s=t.offsetHeight),i.canvas?(U(o,n,s),t.$store&&Q(n,s,o,i.options,t)):i.htmlElement&&(i.htmlElement.style.width="".concat(n,"px"),i.htmlElement.style.height="".concat(s,"px")),i.resizeTimeId=null}),this.options.delayInto))},t.prototype.close=function(t,e){var i=this,o=this.options,n=t.$store;Z.setTimeout((function(){!function(t,e,i){i.style.opacity="0",e.type!==exports.LOADING_TYPES.DOM&&(t.style.boxShadow="none")}(t,o,e),o.type!==exports.LOADING_TYPES.DOM||o.pointerEvents||(t.style.pointerEvents="auto"),d(t,(function(){n&&(n.model=null,i.callEvent(exports.HOOKSCALL_KEY.BEFORE_COLSE),n.animationId&&p(n.animationId)),o.type!==exports.LOADING_TYPES.DOM?t.remove():e.remove(),i.loadingId=null,i.callEvent(exports.HOOKSCALL_KEY.COLSED),i.hooks=X()}))}),n.loadingId?0:o.delayInto)},t.prototype.draw=function(t){var e=this.options;if(e.html){var i={content:F.document.createElement("div"),loadingId:u()},o=i.content,n=i.loadingId;this.htmlElement=o,this.htmlElement.innerHTML=e.html,this.loadingId=n,this.element=J(t,e,n,o)}else{var s={canvas:F.document.createElement("canvas"),hooks:X(),loadingId:u()},a=s.canvas,r=s.hooks;n=s.loadingId;this.canvas=a,this.hooks=r,this.loadingId=n,function(t,e,i){t.$store={options:e,animationId:void 0,loadingId:null,model:null,hookCall:_(i)}}(t,e,r),this.element=J(t,e,n,a),t.$store?Q(a.offsetWidth,a.offsetHeight,a,this.options,t):l.error("WebLoading:canvas or ctx null")}},t.prototype.callEvent=function(t){this.hooks&&this.hooks[t].forEach((function(t){t()}))},t}(),q=window,$=function(){function t(t){this.options=t,this.extendEl=this.initStyle()}return t.prototype.initStyle=function(){this.extendEl=q.document.createElement("div");var t=this.options,e="100vw",i="100vh",o="0px";return t&&(this.extendEl.classList.add("wl_"+(t.extendClass||"loading")),t.type===exports.LOADING_TYPES.MINI&&(e="180px",i="160px",o="10px"),this.extendEl.style.cssText="\n          position:fixed;\n          width:".concat(e,";\n          height:").concat(i,";\n          top:50%;\n          left:50%;\n          transform:translate(-50%, -50%);\n          border-radius: ").concat(o,";\n          z-index: ").concat(t.zIndex,";\n          box-shadow:\n          2.8px 2.8px 2.2px rgba(0, 0, 0, 0.02),\n          6.7px 6.7px 5.3px rgba(0, 0, 0, 0.028),\n          12.5px 12.5px 10px rgba(0, 0, 0, 0.035),\n          22.3px 22.3px 17.9px rgba(0, 0, 0, 0.042),\n          41.8px 41.8px 33.4px rgba(0, 0, 0, 0.05),\n          100px 100px 80px rgba(0, 0, 0, 0.07)\n          ;\n      ")),q.document.body.appendChild(this.extendEl),this.extendEl},t.prototype.getElement=function(){return this.extendEl},t}(),tt=window;function et(t){var e=new V(t),i=null;function o(t){if(e.element){var i=e.canvas;e.htmlElement&&(i=e.htmlElement),i?e[t](e.element,i):l.warn("Animation element not found!")}}return{loading:function(t,o){var n=Object.assign(e.options,o);if(!e.loadingId&&!i)if(n.type!==exports.LOADING_TYPES.DOM&&(t=new $(n).getElement()),t){var s=new Promise((function(t){tt.setTimeout((function(){t(!0)}),n.notFeel)})),a=new Promise((function(t){i=t}));Promise.race([s,a]).then((function(o){o?e.draw(t):n.type!==exports.LOADING_TYPES.DOM&&t.remove(),i=null}))}else l.error("The loading function cannot find an HTMLElement element!")},resize:function(){o("resize")},close:function(){i&&i(!1),o("close")},update:function(t){var i=e.canvas,o=Object.assign(e.options,t),n=e.element;i&&o&&n&&n.$store&&Q(i.offsetWidth,i.offsetHeight,i,o,n)},getOptions:function(){return e.options},getLoadingId:function(){return e.loadingId}}}function it(t,e){return et(Object.assign(n(),e||{},{type:t}))}exports.BaseModel=w,exports.fullLoading=function(t){return it(exports.LOADING_TYPES.FULL,t)},exports.initLoading=et,exports.miniLoading=function(t){return it(exports.LOADING_TYPES.MINI,t)};
