!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((t="undefined"!=typeof globalThis?globalThis:t||self).rustOption={})}(this,(function(t){"use strict";var i,e,o,n;function s(){return{custom:null,html:"",type:t.LOADING_TYPES.DOM,extendClass:"extend",model:t.MODEL_TYPES.GEAR,text:"加载中...",textGap:8,fontSize:12,fontFamily:"Microsoft YaHei",delay:65,notFeel:0,delayInto:320,optimization:!1,zIndex:"2001",themeColor:"rgba(64,158,255,1)",bgColor:"rgba(0, 0, 0, 0.8)",shadowColor:"rgba(64,158,255,0.6)",shadowOffsetX:2,shadowOffsetY:2,shadowBlur:5,pointerEvents:!1,toast:!0}}t.LOADING_TYPES=void 0,(i=t.LOADING_TYPES||(t.LOADING_TYPES={})).DOM="dom",i.FULL="full",i.MINI="mini",t.MODEL_TYPES=void 0,(e=t.MODEL_TYPES||(t.MODEL_TYPES={})).GEAR="Gear",e.RING="Ring",e.ZOOM="Zoom",e.PATTERN="Pattern",e.CLOCK="Clock",e.BEAN="Bean",e.ROLL="Roll",e.Circular="Circular",e.IMG="Img",e.SKELETON="Skeleton",t.HOOKSCALL_KEY=void 0,(o=t.HOOKSCALL_KEY||(t.HOOKSCALL_KEY={})).BEFORE_COLSE="beforeColse",o.COLSED="colsed",t.LOG_TYPES=void 0,(n=t.LOG_TYPES||(t.LOG_TYPES={}))[n.INFO=1]="INFO",n[n.WARN=2]="WARN",n[n.ERROR=3]="ERROR";var a,r,h,l,c=function(){function i(){}return i.info=function(i){this.call(i,t.LOG_TYPES.INFO)},i.warn=function(i){this.call(i,t.LOG_TYPES.WARN)},i.error=function(i){this.call(i,t.LOG_TYPES.ERROR)},i.call=function(i,e,o){void 0===e&&(e=t.LOG_TYPES.INFO),void 0===o&&(o={color:s().themeColor,bgColor:s().bgColor});var n=o.bgColor;2===e&&(n="#fffbe5"),3===e&&(n="#fff0f0");var a="\n      background:".concat(n,";\n      font-size:14px;\n      color:").concat(o.color,";\n      padding: 4px;\n      border: 1px solid;");console.log("%c web-loading:".concat(i," "),a)},i}();function d(t){switch(x(t)){case"object":return Object.keys(t).length>0;case"array":return t.length>0;case"undefined":default:return void 0!==t;case"null":return null!==t}}function p(t){window.requestAnimationFrame?window.cancelAnimationFrame(t):window.clearInterval(t)}function x(t){try{return Object.prototype.toString.call(t).split(" ")[1].split("]")[0].toLowerCase()}catch(t){return"not-type"}}function u(t,i){var e=null,o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in o)if(void 0!==t.style[n]){e=o[n];break}if(e){var s=function(){i(),t.removeEventListener(e,s)};t.addEventListener(e,s)}else i()}function f(){var t=String(Date.now());return window.crypto&&window.crypto.randomUUID&&(t=window.crypto.randomUUID()),"wl_"+t.replace(/-/g,"")}t.ZOOM_ACTION=void 0,(a=t.ZOOM_ACTION||(t.ZOOM_ACTION={})).SCALE="scale",a.WAVE="wave",a.HEIGHT="height",t.PATTERN_CHART=void 0,(r=t.PATTERN_CHART||(t.PATTERN_CHART={})).RECT="rect",r.ARC="arc",r.TRIANGLE="triangle",r.HEART="heart",r.POLYGON="polygon",t.ROLL_CHART=void 0,(h=t.ROLL_CHART||(t.ROLL_CHART={})).RECT="rect",h.WHEEL="wheel",h.WINDMILL="windmill",t.CIRCULAR_ACTION=void 0,(l=t.CIRCULAR_ACTION||(t.CIRCULAR_ACTION={})).COLLISION="collision",l.ROTATE="rotate";var w=function(){function t(t,i,e,o,n,s,a,r){this.modelDefOptions=void 0,this.limits=void 0,this.modelDefCall=void 0,this.webLog=c,this.stepClear=1,this.w=t,this.h=i,this.canvas=e,this.ctx=e.getContext("2d"),this.options=o,this.element=n,this.initContextCall(s,a,r)}return t.prototype._$initBaseContext=function(){this.clearRect(),this.ctx.resetTransform();var t=this.options,i=this.canvas.width,e=this.canvas.height;this.ctx.fillStyle=t.themeColor,this.ctx.strokeStyle=t.themeColor,this.ctx.shadowColor=t.shadowColor,this.ctx.font="".concat(t.fontSize,"px ").concat(t.fontFamily," small-caps"),this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.translate(i/2,e/2);var o=window.devicePixelRatio||1;this.ctx.scale(o,o),this.ctx.save()},t.prototype._$initEvent=function(){var t=this;this.element.$store.hookCall.beforeColse((function(){t.clearRect()}))},t.prototype._$animationFrame=function(t){var i=this;window.requestAnimationFrame||(this.element.$store.animationId=window.setInterval(t,this.options.delay));var e=Date.now()+this.options.delay;t.call(this);var o=function(){Date.now()>e&&(t.call(i),e=Date.now()+i.options.delay),i.element.$store.animationId=window.requestAnimationFrame(o)};this.element.$store.animationId=window.requestAnimationFrame(o)},t.prototype.initContextCall=function(t,i,e){var o=this;this._$initBaseContext(),this._$initEvent(),d(t)&&(this.modelDefOptions=t,this.options=Object.assign(t,this.options),this.element.$store.options=this.options,i&&i.length&&this.options.toast&&i.forEach((function(t){var i=o.options[t.key];d(i)&&!t.limit(i)&&c.warn(t.message)}))),d(i)&&(this.limits=i),d(e)&&e.call(this,this)},t.prototype.run=function(t){this.element.$store.animationId&&this.clearAnimationFrame(this.element.$store.animationId),this._$animationFrame(t)},t.prototype.clearAnimationFrame=function(t){p(t)},t.prototype.clearRect=function(t,i,e,o){var n=this.canvas.width,s=this.canvas.height;if(d(t)&&d(i)&&d(e)&&d(o))this.ctx.clearRect(t,i,e,o);else if(d(t)&&d(i)&&d(e)&&!d(o)){var a=e-this.stepClear,r=Math.sqrt(e*e-a*a),h=t-a,l=i-r,c=2*a,p=2*r;this.stepClear<=e?(this.ctx.clearRect(h,l,c,p),this.stepClear+=1,this.clearRect(t,i,e)):this.stepClear=1}else this.ctx.clearRect(-n,-s,2*n,2*s)},t.prototype.drowRadiusRect=function(t,i,e,o,n){this.ctx.beginPath(),this.ctx.arc(t+n,i+n,n,1*Math.PI,1.5*Math.PI),this.ctx.lineTo(t+e-n,i),this.ctx.arc(t+e-n,i+n,n,1.5*Math.PI,0),this.ctx.lineTo(t+e,i+o-n),this.ctx.arc(t+e-n,i+o-n,n,0,.5*Math.PI),this.ctx.lineTo(t+n,i+o),this.ctx.arc(t+n,i+o-n,n,.5*Math.PI,Math.PI),this.ctx.lineTo(t,i+n),this.ctx.closePath()},t.prototype.drawText=function(t){var i=this.options,e=Object.assign({esGap:i.textGap||0,x:0,text:i.text||"",textColor:i.themeColor||"rgba(64,158,255,1)"},t);this.ctx.save(),this.ctx.beginPath(),this.ctx.fillStyle=e.textColor,this.ctx.fillText(e.text,e.x,(i.textGap||0)+(i.fontSize||0)+e.esGap),this.ctx.closePath(),this.ctx.restore()},t}(),m=function(t,i){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},m(t,i)};function g(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}m(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var A={lineStart:10,lineEnd:16,lineStartSkew:0,lineEndSkew:0,lineWidth:4,lineCap:"round",lineNum:10,direction:!0},C=[{key:"lineNum",message:"lineNum value 4-18",limit:function(t){return t>=4&&t<=18}}],v=function(t){function i(i,e,o,n,s){var a=t.call(this,i,e,o,n,s,A,C,(function(t){var i=t.options;t.ctx.lineCap=i.lineCap,t.ctx.lineWidth=i.lineWidth,t.ctx.save()}))||this;return a.optimization(a.options.textGap+a.options.lineEnd),a.aps=Array.from({length:a.options.lineNum},(function(t,i){return i})),a.run(a.draw),a}return g(i,t),i.prototype.draw=function(){this.clearRect(),this.controller(),this.drawGear();var t=this.options;this.drawText({esGap:t.lineEnd})},i.prototype.controller=function(){var t=this;this.options.direction?this.aps=this.aps.map((function(i){return i-1<=0?t.aps.length-1:i-1})):this.aps=this.aps.map((function(i){return i+1>t.aps.length?0:i+1}))},i.prototype.drawGear=function(){var t=this.options;this.ctx.save(),this.ctx.shadowOffsetX=t.shadowOffsetX,this.ctx.shadowOffsetY=t.shadowOffsetY,this.ctx.shadowBlur=t.shadowBlur;for(var i=0;i<this.aps.length;i++)this.ctx.beginPath(),this.ctx.globalAlpha=this.aps[i]/10,this.ctx.moveTo(t.lineEndSkew,t.lineStart),this.ctx.lineTo(t.lineStartSkew,t.lineEnd),this.ctx.stroke(),this.ctx.closePath(),this.ctx.rotate(2*Math.PI/t.lineNum);this.ctx.restore()},i.prototype.optimization=function(t){this.options.optimization&&4*t>this.h&&(this.options.lineStart=this.h/6-5,this.options.lineEnd=this.h/6,this.options.textGap=2)},i}(w),S={zoomGap:10,maxSize:16,zoomNum:5,lineWidth:10,zoomHeight:2,lineCap:"round",action:t.ZOOM_ACTION.SCALE,direction:!0,zoomColors:[]},E=[{key:"lineWidth",message:"lineWidth(default:10) <=  maxSize(default:16)",limit:function(t){return t<=S.maxSize}},{key:"maxSize",message:"lineWidth(default:10) <=  maxSize(default:16)",limit:function(t){return S.lineWidth<=t}}],y=function(i){function e(t,e,o,n,s){var a=i.call(this,t,e,o,n,s,S,E,(function(t){var i=t.options;t.ctx.lineCap=i.lineCap,t.ctx.lineWidth=i.lineWidth,t.ctx.translate(-(i.lineWidth*(i.zoomNum+1)+i.zoomGap*(i.zoomNum+1))/2,-i.zoomHeight/2),t.ctx.save()}))||this;return a.zoomIndex=a.options.direction?0:a.options.zoomNum-1,a.list=Array.from({length:a.options.zoomNum},(function(t,i){return Object.assign({value:a.options.lineWidth,state:0})})),a.run(a.draw),a}return g(e,i),e.prototype.draw=function(){this.clearRect(),this.drawZoom();var t=this.options;this.drawText({esGap:t.maxSize,x:(t.lineWidth*(t.zoomNum+1)+t.zoomGap*(t.zoomNum+1))/2}),this.controller()},e.prototype.controller=function(){var t=this.options;t.direction&&this.zoomIndex>=t.zoomNum?this.zoomIndex=0:t.direction&&this.zoomIndex<0&&(this.zoomIndex=t.zoomNum-1)},e.prototype.drawZoom=function(){for(var i=this.options,e=0;e<i.zoomNum;e++){1===this.list[e].state?this.list[e].value+=2:2===this.list[e].state&&this.list[e].value>=i.lineWidth&&this.list[e].value--,i.action===t.ZOOM_ACTION.SCALE&&(this.ctx.lineWidth=this.list[e].value),e===this.zoomIndex&&(this.list[e].value>i.maxSize&&(this.list[e].state=2,i.direction?this.zoomIndex++:this.zoomIndex-1>=0?this.zoomIndex--:this.zoomIndex=i.zoomNum-1),this.list[e].value<=i.lineWidth&&(this.list[e].state=1)),this.ctx.beginPath(),i.zoomColors.length>0&&i.zoomColors[e]?this.ctx.strokeStyle=i.zoomColors[e]:this.ctx.strokeStyle=i.themeColor;var o=0,n=i.zoomHeight;i.action!==t.ZOOM_ACTION.HEIGHT&&i.action!==t.ZOOM_ACTION.WAVE||(o=-this.list[e].value),i.action===t.ZOOM_ACTION.WAVE&&(n=-this.list[e].value),this.ctx.moveTo((e+1)*(i.lineWidth+i.zoomGap),o),this.ctx.lineTo((e+1)*(i.lineWidth+i.zoomGap),n),this.ctx.stroke(),this.ctx.closePath()}},e}(w),O={arcGap:Math.PI/4,ringGap:10,lineWidth:2,ringNum:2,radius:6,lineCap:"round",turn:10,ringsTurn:[Math.PI,Math.PI/4],direction:!0},T=[{key:"ringNum",message:"ringNum value 1-10",limit:function(t){return t>=1&&t<=10}},{key:"ringsTurn",message:"ringsTurn size ".concat(O.ringNum),limit:function(t){return t.length<=O.ringNum}}],I=function(t){function i(i,e,o,n,s){var a=t.call(this,i,e,o,n,s,O,T,(function(t){var i=t.options;t.ctx.lineCap=i.lineCap,t.ctx.lineWidth=i.lineWidth,t.ctx.save()}))||this;return a.rotate=10,a.run(a.draw),a}return g(i,t),i.prototype.draw=function(){this.clearRect(),this.controller();var t=this.options;this.drawText({esGap:t.ringNum*(t.radius+t.ringGap/2)})},i.prototype.controller=function(){this.ctx.save();var t=this.options,i=this.rotate*Math.PI/180*(t.direction?1:-1);this.ctx.rotate(i),this.ctx.shadowOffsetX=t.shadowOffsetX,this.ctx.shadowOffsetY=t.shadowOffsetY,this.ctx.shadowBlur=t.shadowBlur;for(var e=1;e<=t.ringNum;e++)this.drawRing(t.radius+(e-1)*t.ringGap,t.arcGap,t.ringsTurn&&t.ringsTurn.length>0?t.ringsTurn[e-1]:Math.PI/e);this.rotate+=t.turn,this.ctx.restore()},i.prototype.drawRing=function(t,i,e){void 0===i&&(i=1),void 0===e&&(e=0),this.ctx.beginPath(),this.ctx.arc(0,0,t,i+e,Math.PI+e),this.ctx.stroke(),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.arc(0,0,t,Math.PI+i+e,e),this.ctx.stroke(),this.ctx.closePath()},i}(w),P={beanSize:15,pointLength:15},R=[{key:"pointLength",message:"pointLength value >= 5",limit:function(t){return t>=5}},{key:"beanSize",message:"beanSize value >= 5",limit:function(t){return t>=5}}],b=function(t){function i(i,e,o,n,s){var a=t.call(this,i,e,o,n,s,P,R)||this;return a.bean={turn:30,state:1,beanState:1,nowX:-a.options.pointLength*a.options.beanSize/2-3*a.options.beanSize,beans:Array.from({length:a.options.pointLength},(function(){return 1})),beanAnimaIndex:0},a.options.delay=10,a.run(a.draw),a}return g(i,t),i.prototype.draw=function(){var t=this.options;this.clearRect(),this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(this.bean.nowX,0),this.ctx.arc(0,0,t.beanSize,(360-this.bean.turn)*Math.PI/180,this.bean.turn*Math.PI/180,!0),this.ctx.lineTo(0,0),this.ctx.fill(),this.ctx.closePath(),this.ctx.restore(),this.drawPoint(),this.drawFillter(),this.drawText({esGap:t.beanSize}),this.controller()},i.prototype.controller=function(){var t=this.options;this.bean.nowX>=t.pointLength*t.beanSize/2+2*t.beanSize&&(this.bean.nowX=-t.pointLength*t.beanSize/2-3*t.beanSize,this.bean.beanAnimaIndex=0),this.bean.nowX<=-t.pointLength*t.beanSize/2&&(this.bean.beanState=2),this.bean.turn<=0&&(this.bean.state=2),this.bean.turn>=30&&(this.bean.state=1),1===this.bean.state&&(this.bean.turn-=1),2===this.bean.state&&(this.bean.turn+=1),1===this.bean.beanState&&(this.bean.nowX-=1),2===this.bean.beanState&&(this.bean.nowX+=1)},i.prototype.drawPoint=function(){var t=this.options;this.ctx.save(),this.setShadow(),this.ctx.translate(-t.pointLength*t.beanSize/2,0);for(var i=0;i<t.pointLength&&i<this.bean.beanAnimaIndex;i++)this.ctx.beginPath(),i<this.bean.beanAnimaIndex&&this.ctx.arc(t.beanSize*i,0,t.beanSize/4,0,2*Math.PI),this.ctx.fill(),this.ctx.closePath();this.bean.beanAnimaIndex+=.2,this.ctx.restore()},i.prototype.drawFillter=function(){var t=this.options;this.clearRect(-t.beanSize/3+this.bean.nowX,-t.beanSize/2,t.beanSize/4),this.clearRect(-t.pointLength*t.beanSize/2-t.beanSize/2+.2,-this.h,this.bean.nowX+t.pointLength*t.beanSize/2-t.beanSize/2,2*this.h),this.clearRect(-t.pointLength*t.beanSize/2,-this.h,-180,2*this.h),this.clearRect(t.pointLength*t.beanSize/2,-this.h,180,2*this.h)},i.prototype.setShadow=function(){var t=this.options;this.ctx.shadowOffsetX=t.shadowOffsetX,this.ctx.shadowOffsetY=t.shadowOffsetY,this.ctx.shadowBlur=t.shadowBlur},i}(w),L={lineCap:"round",lineWidth:2,lineColors:["#d4d4d4","#06ab2d","#8a0303"],clockSize:15,clockGap:4,hLine:!0,mLine:!1,sLine:!0,textTime:""},z=[{key:"lineColors",message:"lineColors.length <= 3",limit:function(t){return t.length<=3}}],k=function(t){function i(i,e,o,n,s){var a=t.call(this,i,e,o,n,s,L,z,(function(t){var i=t.options;t.ctx.lineCap=i.lineCap,t.ctx.lineWidth=i.lineWidth,t.ctx.save()}))||this;return a.nowTime=-1,a.nowS=0,a.run(a.draw),a}return g(i,t),i.prototype.draw=function(){this.clearRect(),this.drawClock()},i.prototype.drawClock=function(){var t=this.options,i=(new Date).getSeconds(),e=(new Date).getMinutes(),o=(new Date).getHours();this.ctx.save(),this.ctx.beginPath(),this.setShadow(),this.ctx.moveTo(-5,-(t.clockSize+t.clockGap)),this.ctx.lineTo(5,-(t.clockSize+t.clockGap)),this.ctx.stroke(),this.ctx.closePath(),this.ctx.beginPath(),this.setShadow(),this.ctx.arc(0,0,t.clockSize,0,2*Math.PI),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore(),this.ctx.save();for(var n=0;n<12;n++)this.ctx.beginPath(),this.ctx.rotate(30*Math.PI/180),this.ctx.moveTo(t.clockSize-t.clockGap,0),this.ctx.lineTo(t.clockSize-t.clockGap,0),this.ctx.stroke(),this.ctx.closePath();this.ctx.restore(),t.hLine&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.lineWidth=1.6*t.lineWidth,t.lineColors[0]&&(this.ctx.strokeStyle=t.lineColors[0]),this.ctx.rotate(-90*Math.PI/180),this.ctx.rotate(360*o/60*Math.PI/180),this.ctx.moveTo(-1,0),this.ctx.lineTo(t.clockSize/2,0),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore()),t.mLine&&(this.ctx.save(),this.ctx.beginPath(),t.lineColors[1]&&(this.ctx.strokeStyle=t.lineColors[1]),this.ctx.lineWidth=1.2*t.lineWidth,this.ctx.rotate(-90*Math.PI/180),this.ctx.rotate(360*e/60*Math.PI/180),this.ctx.moveTo(-1,0),this.ctx.lineTo(t.clockSize/2+t.clockGap,0),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore()),t.sLine&&(this.ctx.save(),this.ctx.beginPath(),t.lineColors[2]&&(this.ctx.strokeStyle=t.lineColors[2]),this.ctx.rotate(-90*Math.PI/180),this.ctx.rotate(360*i/60*Math.PI/180),this.ctx.moveTo(-1,0),this.ctx.lineTo(t.clockSize-t.clockGap,0),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore(),this.nowS!==i&&this.nowTime++,this.nowS=i),"time"===t.textTime&&(t.text="".concat(o," : ").concat(e," : ").concat(i)),"s"===t.textTime&&(t.text=this.nowTime+"s"),this.drawText({esGap:2*t.clockSize})},i.prototype.setShadow=function(){var t=this.options;this.ctx.shadowOffsetX=t.shadowOffsetX,this.ctx.shadowOffsetY=t.shadowOffsetY,this.ctx.shadowBlur=t.shadowBlur},i}(w),N={charts:[t.PATTERN_CHART.ARC,t.PATTERN_CHART.RECT,t.PATTERN_CHART.TRIANGLE,t.PATTERN_CHART.HEART,t.PATTERN_CHART.POLYGON],chartColors:["#409EFF","#67C23A","#E6A23C","#F56C6C","#0960bd"],maxHeight:60,chartSize:12},G=[{key:"chartSize",message:"chartSize value 5-24",limit:function(t){return t>=5&&t<=24}},{key:"delay",message:"Pattern.delay not allowed update",limit:function(t){return t===s().delay}}],M=function(i){function e(t,e,o,n,s){var a=i.call(this,t,e,o,n,s,N,G,(function(t){t.options.delay=10}))||this;return a.pattern={color:a.randomState("chartColors"),nowHeight:10,chart:a.randomState("charts"),shadow:0,nowSatate:1,turn:0},a.run(a.draw),a}return g(e,i),e.prototype.draw=function(){var t=this.options;this.clearRect(),this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(0,this.pattern.nowHeight),this.ctx.rotate(this.pattern.turn/Math.PI*2),this.ctx.fillStyle=this.pattern.color,this.selectChart(0,0,t.chartSize),this.ctx.closePath(),this.ctx.restore(),this.drawShadow(),this.clearRect(-this.w,0,2*this.w,this.h),this.controller(t),this.drawText({textColor:this.pattern.color})},e.prototype.controller=function(t){this.pattern.turn+=10,1===this.pattern.nowSatate?(this.pattern.nowHeight--,this.pattern.shadow+=.2):2===this.pattern.nowSatate&&(this.pattern.nowHeight++,this.pattern.shadow-=.2),this.pattern.shadow=Math.floor(100*this.pattern.shadow)/100,this.pattern.nowHeight<=-t.chartSize&&this.pattern.nowHeight%8==0&&(t.delay+=.5,t.delay=Math.floor(100*t.delay)/100),this.pattern.nowHeight<=-t.maxHeight?this.pattern.nowSatate=2:this.pattern.nowHeight>=t.chartSize&&(this.pattern.nowSatate=1,t.delay=10,this.pattern.chart=this.randomState("charts"),this.pattern.color=this.randomState("chartColors"))},e.prototype.selectChart=function(i,e,o){switch(this.pattern.chart){case t.PATTERN_CHART.RECT:this.drawRect(i,e,o);break;case t.PATTERN_CHART.ARC:this.drawArc(i,e,o);break;case t.PATTERN_CHART.TRIANGLE:this.drawTriangle(i,e,o);break;case t.PATTERN_CHART.HEART:this.drawHeart(i,e,o);break;case t.PATTERN_CHART.POLYGON:this.drawPolygon(i,e,o)}},e.prototype.randomState=function(t){var i=this.options;return i[t][parseInt(String(Math.random()*i[t].length))]},e.prototype.drawShadow=function(){this.ctx.save(),this.ctx.beginPath(),this.setShadow(),this.ctx.globalAlpha=.2,this.ctx.strokeStyle=this.pattern.color,this.ctx.moveTo(-this.pattern.shadow/2,0),this.ctx.lineTo(this.pattern.shadow,0),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.restore()},e.prototype.drawRect=function(t,i,e){this.ctx.save(),this.ctx.beginPath(),this.setShadow(),this.ctx.translate(-e/2,-e/2),this.ctx.fillRect(t,i,e,e),this.ctx.closePath(),this.ctx.restore()},e.prototype.drawArc=function(t,i,e){this.ctx.save(),this.ctx.beginPath(),this.setShadow(),this.ctx.arc(t,i,e/2,0,2*Math.PI),this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()},e.prototype.drawTriangle=function(t,i,e){this.ctx.save(),this.ctx.beginPath(),this.setShadow(),this.ctx.translate(-e/2,-e/2*Math.sqrt(3)/2),this.ctx.moveTo(t,i),this.ctx.lineTo(e,0),this.ctx.lineTo(e/2,e/2*Math.sqrt(3)),this.ctx.lineTo(t,i),this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()},e.prototype.drawHeart=function(t,i,e){e/=2,this.ctx.save(),this.ctx.beginPath(),this.setShadow(),this.ctx.translate(0,-2*e/2),this.ctx.moveTo(t,i),this.ctx.bezierCurveTo(e/2,-e,3*e,-e/2,i,2*e),this.ctx.moveTo(t,i),this.ctx.bezierCurveTo(-e/2,-e,3*-e,-e/2,i,2*e),this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()},e.prototype.drawPolygon=function(t,i,e){this.ctx.save(),this.ctx.beginPath(),this.setShadow(),this.ctx.translate(-e/2,-e/2),this.ctx.moveTo(t,i),this.ctx.lineTo(e,i),this.ctx.lineTo(e+e/2,e/2),this.ctx.lineTo(e,e/2+e/2),this.ctx.lineTo(t,e),this.ctx.lineTo(t-e/2,e-e/2),this.ctx.lineTo(t,i),this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()},e.prototype.setShadow=function(){var t=this.options;this.ctx.shadowColor=this.pattern.color,this.ctx.shadowOffsetX=t.shadowOffsetX,this.ctx.shadowOffsetY=t.shadowOffsetY,this.ctx.shadowBlur=t.shadowBlur},e}(w),H={rollGap:12,childNum:4,rollSize:16,showChild:!0,chart:t.ROLL_CHART.WHEEL,windmills:["#1ab3ea","#de6834","#30925d","#f48ea5"],windmillPointColor:"#f2c31f",fixad:!1},D=[{key:"childNum",message:"chartSize value 4-10",limit:function(t){return t>=4&&t<=10}},{key:"delay",message:"Roll.delay not allowed update",limit:function(t){return t===s().delay}}],Y=function(i){function e(t,e,o,n,s){var a=i.call(this,t,e,o,n,s,H,D)||this;return a.Roll={turn:1,nowX:a.options.fixad?0:a.options.childNum/2*(a.options.rollSize+a.options.rollGap)+a.options.rollGap/2,state:2,child:[]},a.run(a.draw),a}return g(e,i),e.prototype.draw=function(){this.clearRect(),this.drawGround(),this.drawChild(),this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(-this.Roll.nowX,0),this.ctx.rotate(this.Roll.turn*Math.PI/180),this.selectChart(),this.controller(),this.ctx.restore();var t=this.options;this.drawText({esGap:t.rollSize})},e.prototype.selectChart=function(){switch(this.options.chart){case t.ROLL_CHART.RECT:this.drawRect();break;case t.ROLL_CHART.WHEEL:this.drawWheel();break;case t.ROLL_CHART.WINDMILL:this.drawWindmill()}},e.prototype.controller=function(){var t=this.options;if(1===this.Roll.state&&(this.Roll.turn-=10,t.delay<20&&!t.fixad&&(t.delay+=2)),2===this.Roll.state&&(this.Roll.turn+=10,t.delay>10&&!t.fixad&&(t.delay-=5)),!t.fixad){this.Roll.nowX<=-t.childNum/2*(t.rollSize+t.rollGap/1.6)&&(this.Roll.state=1),this.Roll.nowX>=t.childNum/2*(t.rollSize+t.rollGap)+t.rollGap/2&&(this.Roll.state=2),1===this.Roll.state&&this.Roll.nowX++,2===this.Roll.state&&this.Roll.nowX--;var i=this.Roll.child;this.Roll.nowX%(t.rollSize+t.rollGap)==0&&2===this.Roll.state&&i.push({turn:this.Roll.turn,x:this.Roll.nowX}),1===this.Roll.state&&i[i.length-1]&&i[i.length-1].x===this.Roll.nowX&&this.Roll.child.pop()}},e.prototype.drawRect=function(){var t=this.options;this.ctx.save(),this.setShadow(),this.ctx.translate(-t.rollSize/2,-t.rollSize/2),this.ctx.fillRect(0,0,t.rollSize,t.rollSize),this.ctx.restore()},e.prototype.drawWheel=function(){var t=this.options;this.ctx.save(),this.ctx.lineWidth=4,this.ctx.beginPath(),this.ctx.arc(0,0,t.rollSize/6,0,2*Math.PI),this.ctx.stroke(),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.arc(0,0,t.rollSize/2,0,2*Math.PI),this.ctx.stroke(),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.arc(0,0,t.rollSize,0,2*Math.PI),this.ctx.stroke(),this.ctx.closePath();for(var i=0;i<6;i++)this.ctx.beginPath(),this.ctx.moveTo(0,t.rollSize/2),this.ctx.lineTo(0,t.rollSize),this.ctx.stroke(),this.ctx.rotate(60*Math.PI/180),this.ctx.closePath();this.ctx.restore()},e.prototype.drawWindmill=function(){var t=this.options;this.ctx.save();for(var i=0;i<t.windmills.length;i++)this.ctx.beginPath(),this.ctx.fillStyle=t.windmills[i],this.ctx.arc(-t.rollSize/2,0,t.rollSize,0,Math.PI),this.ctx.fill(),this.ctx.closePath(),this.ctx.rotate(90*Math.PI/180);this.ctx.beginPath(),this.ctx.fillStyle=t.windmillPointColor,this.ctx.arc(0,0,t.rollSize/2,0,2*Math.PI),this.ctx.fill(),this.ctx.restore()},e.prototype.drawChild=function(){var t=this;this.options.showChild&&this.Roll.child.forEach((function(i,e){t.ctx.save(),t.ctx.translate(-i.x,0),t.ctx.globalAlpha=(e+1)/10,t.ctx.rotate(i.turn*Math.PI/180),t.selectChart(),t.ctx.restore()}))},e.prototype.drawGround=function(){var i=this.options;i.chart===t.ROLL_CHART.WHEEL&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.lineWidth=3,this.ctx.globalAlpha=.03,this.ctx.moveTo(-i.childNum/2*(i.rollSize+i.rollGap/1.6),i.rollSize+3),this.ctx.lineTo(i.childNum/2*(i.rollSize+i.rollGap)+i.rollGap/2,i.rollSize+3),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore())},e.prototype.setShadow=function(){var t=this.options;this.ctx.shadowOffsetX=t.shadowOffsetX,this.ctx.shadowOffsetY=t.shadowOffsetY,this.ctx.shadowBlur=t.shadowBlur},e}(w),W={arcSize:8,arcGap:2,arcColors:["#ec7546","#8364a4","#ff6c6e","#5bc6ab"],action:t.CIRCULAR_ACTION.COLLISION},B={src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAADhJJREFUeF7tXX2MXFUV/5032xIonRBiEEIgtIkCRRAMVIrtzpsipQWkJZEPQdrOm62YSIu08iEbI41ZFLUFFk3U7rxpiyBQE/kqhSLdN9sCVRqtwK6oCTQSohJjyBRaaXfeMfd1ltTu7My9M/d9zbz75+6555z7O7959+vcewlJ6WgEqKNbnzQeCQE6nAQJARICdDgCHd785AuQEKDDEejw5idfgIQA7YvAl37Ox+ydjHTqINKVFNLchalGBWmXkCYXaSakReuJUWYDZYNRdlMo0yj2piooVyahPPUAyk/fRPvaFaW2+AKYRT6NgBmui7PIwAwwzgIwA8AUTYH7EMAICMPsYsQwMMzAiJOjPZr0h6YmdgTotvkUg3ElDJzvQ6BVA/ExMeBil0t4asiid1SVhCkfCwJkinwBAXPBWATgwjABk7C9E4QnGNhWytGrEvKhikSWAHMGeGbKwPUQgQfODhWl5o2/DmBbxcUj23vo982r8a9m5AiQtTnjAhYBi/1rdvCaGdhoAPagRaXgrU9sMTIEMAd4PgxYAK6OEkA++LIJLmynh57zQbeyytAJ4PXvjF4AC5W9j3eFJ5nQF/Y4IVQCmDb3gtALxtHxjmWT3hP2g9HnWNTXpIaWq4VCgLnreR4zepnR3XIL2kABEYaI0LdtKW0NujmBEmBBPx+1bwruIcLKoBsaB3vMWHvMh7hrywr6KCh/AyPAbJundwEFAGZQjYupHWcUyO+w6K0g/A+EAGaBZ4PwKICTg2hUG9h4F4zrnDzt8LstvhPAtPlawAt+UtQRuM6x6DH1avI1fCVAtsgrmbFG3p1E8kgEiLBqMEdr/ULGNwKYBc6DMOCX4x2ll9Hj5EmMn7QXXwiQKfAsIrys3dsOVsiMi0p5ekU3BNoJYBb5DDD+rNvRRJ/IXMGZTo7e1ImFVgLM28gnHKhgW3WfXqefiS6BAGF4cgpzty6m93QBoo0A5iB3YQ+eAONyXc4lemogQNiM07DIydKoDnz0EaDI94HxTR1OJToaIEC438nRrTpw0kIAc4AXwcBvdDiU6JBEwMVVTg89ISk9oVjLBDCLfBwYgwDObdWZpL4SArtByDo5el+p1hHCOgiQfPpbiUArdTV0BS0RIPn0txI9TXVb7ApaI4DNIuv1fE1NSdQ0h8Aux6ILmqsqZpZNFrPAN4DwyyarJ9V0IsD4qpOnh5tR2TwBbBbZK5c0YzSpox2BFxyL5jWjtSkCZDbwAqrg2WYMRqjOfiL8TfjDjE8B8c5L5BQuKy2hLar4NkeAAj9GhGtUjUVGnjCcYlzzokUjwqeLbZ5RITwe5yVsZjxeypPIvVAqygQwi3whGNp3pZS8bk3YcSzK1lJh2izWM+KbskaY5eRopwo8ygTI2PwAAStUjERMdrlj0U8mIMDNAB6MmL/S7jDQX7LoFukK3v6SYjFtFlu9ZyhWi454BVlnGTk1CbCOTaS8Vc24ljcdi85UcV6JAJkizyHGkIqByMm2NwHAhO5SjrbL4q5EANPmHwC4Q1Z5JOXanAAA7nUsulMWe1UC/DH2mz7tT4DdjkXnaSdA9zqeZqQQyGEFWeebkmt/AsCtYPrQMnpbBh/pL0CmwMuJ0C+jNNIyHUAAZqwo5UlqNiNNALPIRTCWRjq4Ms51AAFAWO/kKCcDhzwBbBZXnDS96yTjTCAynUAA4FXHopkyeKoQ4AON167J+PaxDAH7mPEj7w/kXf/W/C0i/hJgExgjMMDEuJ2BY5Qaqk/4Q8eiY2XUSRFA3MMHhtSgQsaokgxh2K3gxqEeEjMQr2Rt/rwLrCB4l0gpFSJcPpijmhtZ2SJfxozNSgrFZhLwiAH0D1r0u7G63QN8npHCQ6HtLxCmydxjKEWAZoFRBbKmfJ317apfYln6UmlbjNVOnu6uJW8W+G4QviutC3heDIwnIlSY+yb1iH54+6QIkCnwbUT4oQIwukSllja7C7zYICyXzk6qkUalmN62y2U8OJSnjY0aGtbSOTNuL+XpULdZp0gRIMQZwB7HommNGiH+f/XjnHrvA69bEF+E0xrWYaxmwl+EHDFOl/zl7xEbLicci/5N11CloQ2xtWiz6Dob+yOjTEVGciYgR4AQZwAEXHh439oIg4vX8ScrKW9Hr/mBYm0jm1IVLH9xGf2rkQ9j/xdjFQaUtmdldUvISc0EZAkQ2gwAdfrseiCYRd4BxhckgGosQnjJydHsxoL/L9HEmELVRD15qZlAQwJ4V65PgrgUObzCWP0Ro/+VHvqPrBPZ9Xwlu3hSVr5uP2lg4eBSekpW16wBPv4owgrJbkVWrbLc1IOY0uiq+4YEMIt8Ihj/ULauv4LI3+ufKJnjSHOmzr39OmsH4+zaLJJKxDhE5BmGWwgnOTn6Z11yN/Lw4l/wpytdhwZLESk7q5kvv6rbBdjcA2CdJp+XORbVve0kY/NXqgPQyNxmnhrF6S9+jf7aEgHMAp8PQhSvPX+GCf2lHL1Qq4EZmzcTcJkOAjDwbMmimsfeM0W+hNj7xV+hw5ZWHYwLnDztaokAmQ2cJXHpQ3TLBhB+NpYMmS3w6Uz4nvZZAGP1QWDNS3naK6CoLvJ8HcCSqELDKcwtLaG6KW4NxwBZmxcy0PIx5ABAEleniP7uMwA+4ZO9/+LQtO7EOORFErBo0KK6A+GGBMgU+UZiNFzx8gnwRG0LCDBhcSlHD7XUBZgF/gYINdOoW/AtqRoEAoybnTz9tCUCZGz+NgH3BOFvYkMvAgzcVbLo+wkB9OIaG21aCJB0AbGJ93hHtXQBySAwtgzQMgiMyzSQCK8xQ+wV+DkN/DeAN4hwPDPOiToz9EwDo74QRHiYgQfGHl/ybSEI2ESM7wzmyVsWrz5meQsYN0SVCFoWgiK7FMx4iYE1pTzVvJ/QLPIWMOZrCQ7hOSdHC2ouORf4KgJWgTRtPWtxuKpEx1JwBDeD3vUCb9F99bAyCyyC8mMteDK+5eSp7rsHGZtv9YgQoVdR9GwGRWc7WGTf9k9KYc1vl9DfGwU2jO3gL27gUw9WsCoy9yfo2A6OQkIIA0+lDKzZtpSkj6aHmRAydz13V1yPCFc2Iqqf/9eSECIcNG1OUsI6NSWsSoDQjoUlSaFNfyM0JoWGdzD0HceiU2UgaCYtnAy8JnSzi3Mk8/eaSQsX45VTZNqgVUZnWnhYB0PE4s5gjj7bCBjlgyE1cvwUB43SB0OyRf5TGItGWg+GhHk0jAkzJ3phO+pHw6ovo4vuM/Ci9WhYOx0OZeD6kkU1E0qriZ2PqEar7Q+Hhj0TOOJ4uDj3XnNVTipw/h4PF6uP3i+eCLe1zfHwsGcCUoGVFfKXALJe+C0nNQPwiCrrSYgHRGVdlJPrBAJIzgDUCNAuuYGdQACJRJCxX4v0F6Db5lMMoOEavNzPMESpDiCAC5w6ZNE7MihLE6A6DhC3hEfm6JNMA8fJtD8BdjoWzZLFRo0ARb4DDHFdbHxLuxOAcKeTo3tlA6REgDAXNmQb1FCuzQlQb+GsFjZKBKh2A2L9/OyGQEdVoL0J8LpjkVKuYjMEuB+A0qMEkeICo8fJU6GWT2aB8yDUPQYeqbaMd+YBxyKl95vVCRD3J2MIw06ORObwuGIW+Y3Q7vXTwawgnowRfmbi/mgU4FQm4frtN5J388mch/ik1EGIPYDYvhcU2KNRHgHa49m490E49HQMe4E/TsePMCwdgT4bVx0MJg9HhhXt8XaDfTjSI0DydGx0wh/G07HVr0DyeHT4NAjn8WiPAAO8CAZqnswJH5cO8SDM5+M9EhT5PjCU5p4dEhr/m0m438nRra0YUl4HONKYWeTjwN5ji+e24khSVxmB3SBknRy9r1zzsAotEyDpClqBv4W6LX76xyxrIUDSFbQQyGaqavj0ayfAgn4+av+xeC7Oq2nNxCKEOs7RH2D+lhX0kQ7b2r4AwpnZNk/vgve28Mk6nEt0jEPg3VGge4dF2h7w1EqA6gLRbBCkHy9OgqyAAGOOk6cdCjUaimongEcCm68F8GhD64mACgLXORY9plJBRtYXAgjD2SKvZEbdWzVkHExkvEMmqwZztNYPLHwjQLU7iHuChR+Yq+msk8Cipqi2tK8EECYzBZ5FhJd1ONtpOphxUSlPIhPbt+I7AbwvQZHPAPDrWGfb+BaCGooJwwC+7ORIXIHvawmEAKIF8zbyCQcqsMGo+fKGr62Mk3LC5skpWFsX03tBuB0YAbwvwSB38Vu4lwgrg2hc3GwwYy1Nxx1OlkaD8j1QAow1au56nseMXmZ0B9XQKNshwhAR+rYtJZFlFWgJhQBjLTRt7gWhF4yjA211VIwR9oPR51jUF5ZLoRJANLp62qgXwMKwQAjJ7pNM6Jvo+pugfAqdAB9/DQZ4PgxY2l/7CgpJeTub4MJ2ekhsnIVeIkOAMSSyNmdcwCJgcejoaHSAgY0GYA9aVNKotmVVkSPAWIvmDPBMw8ANBMyLwxNtE0TiTQa2ui4e3t5DodwW1oghkSXA4Y5nijyHDq0fXBqD1LPdAJ5nwuZSjiK/KxoLAhxOhu51PI0MXEEGPlddWZwBYEojpvv0f/Gq+ggIw+ziD+zimaFl9LZPtnxRGzsC1EJB3GNIwAzXxVlkYIYPxDg80COGgWEGRpwc7fElKgEqbQsCTISXd9X9ZKRTB5GupJDmLkw1Kki7hDS5SDMhLeoSo8wGygaj7KZQplHsTVVQrkxCeeoBlJ++ifYFGJNATbU1AQJFMqbGEgLENHC63E4IoAvJmOpJCBDTwOlyOyGALiRjqichQEwDp8vthAC6kIypnoQAMQ2cLrf/BydAUsx5f97+AAAAAElFTkSuQmCC",width:52,height:52,turn:!0},j={skeletonColor:"rgb(240, 240, 240)",skeletonAnimationColor:"rgb(226, 226, 226)",radius:5,animation:!0,deep:!0,appoint:""},Q={Gear:v,Zoom:y,Ring:I,Bean:b,Clock:k,Pattern:M,Roll:Y,Circular:function(i){function e(t,e,o,n,s){var a=i.call(this,t,e,o,n,s,W)||this,r=a.options,h=2*r.arcSize+r.arcGap;return a.collsionPoint=[{key:0,state:!1,y:-h,x:0},{key:1,state:!1,y:h,x:0},{key:2,state:!1,y:0,x:h},{key:3,state:!1,y:0,x:-h}],a.turn=0,a.run(a.draw),a}return g(e,i),e.prototype.draw=function(){this.clearRect(),this.ctx.save();var i=this.options;i.action===t.CIRCULAR_ACTION.COLLISION?this.controller():i.action===t.CIRCULAR_ACTION.ROTATE&&(this.ctx.rotate(this.turn*Math.PI/180),this.turn+=10),this.drawCircular(),this.ctx.restore(),this.drawText({esGap:4*i.arcSize+2*i.arcGap})},e.prototype.controller=function(){var t=this.options;this.collsionPoint.forEach((function(i){var e="y";switch(i.key){case 0:case 1:e="y";break;case 2:case 3:e="x"}var o=2*t.arcSize+t.arcGap;i[e]===-o&&(i.state=!0),i[e]===o&&(i.state=!1),i.state?i[e]++:i[e]--}))},e.prototype.drawCircular=function(){var t=this,i=this.options;this.collsionPoint.forEach((function(e,o){if(t.ctx.save(),t.ctx.beginPath(),i.arcColors[o]){var n=i.arcColors[o];t.setShadow(n),t.ctx.fillStyle=n}t.ctx.arc(e.x,e.y,i.arcSize,0,2*Math.PI),t.ctx.fill(),t.ctx.closePath(),t.ctx.restore()}))},e.prototype.setShadow=function(t){var i=this.options;t&&(this.ctx.shadowColor=t),this.ctx.shadowOffsetX=i.shadowOffsetX,this.ctx.shadowOffsetY=i.shadowOffsetY,this.ctx.shadowBlur=i.shadowBlur},e}(w),Img:function(t){function i(i,e,o,n,s){var a=t.call(this,i,e,o,n,s,B)||this;return a.img=new Image,a.img.src=a.options.src,a.turn=10,a.img.onload=function(){a.run(a.draw)},a}return g(i,t),i.prototype.draw=function(){this.clearRect(),this.drawImg();var t=this.options;this.drawText({esGap:t.height/2})},i.prototype.drawImg=function(){var t=this.options;this.ctx.save(),t.turn&&this.ctx.rotate(this.turn*Math.PI/180),this.ctx.drawImage(this.img,-t.width/2,-t.height/2,t.width,t.height),this.ctx.closePath(),this.ctx.restore(),this.turn+=10},i}(w),Skeleton:function(t){function i(i,e,o,n,s){var a=t.call(this,i,e,o,n,s,j,[],(function(t){var i=t.options;t.ctx.translate(-t.w/2,-t.h/2),t.canvas.width=t.element.scrollWidth,t.canvas.height=t.element.scrollHeight,t.ctx.fillStyle=i.skeletonColor}))||this;return a.skeleton=[],a.colorFlow=0,a.state=1,a.WL_IMG="wl-img",a.controller(a.element.children),a.run(a.draw),a}return g(i,t),i.prototype.draw=function(){this.clearRect(),this.drawSkeleton()},i.prototype.controller=function(t){for(var i=this.options,e=0,o=Array.from(t);e<o.length;e++){var n=o[e];this.element.loadingId!==n.id&&(i.appoint.length>0&&null===n.getAttribute(i.appoint)||(i.deep?n.children.length<=0?this.skeleton.push({title:n.nodeName,element:n}):this.controller(n.children):this.skeleton.push({title:n.nodeName,element:n})))}},i.prototype.drawSkeleton=function(){var t=this,i=this.options,e=this.ctx.createLinearGradient(0,0,this.w,this.h);e.addColorStop(0,i.skeletonColor),e.addColorStop(this.colorFlow,i.skeletonAnimationColor),e.addColorStop(1,i.skeletonColor),i.animation&&(this.ctx.fillStyle=e),this.skeleton.forEach((function(e){var o=e.element;t.drowRadiusRect(o.offsetLeft,o.offsetTop,o.offsetWidth,o.offsetHeight,i.radius),t.ctx.fill()})),i.animation&&(this.colorFlow>=.9&&(this.state=2),this.colorFlow<=.1&&(this.state=1),1===this.state&&(this.colorFlow+=.06),2===this.state&&(this.colorFlow-=.06))},i}(w)};function F(t,i,e,o,n){try{var s=n.$store.model;if(s)s.initContextCall(s.modelDefOptions,s.limits,s.modelDefCall);else{s=o.custom?new o.custom(t,i,e,o,n):new Q[o.model](t,i,e,o,n)}}catch(t){c.error("draw error("+t+")")}}var X=window;function _(){var i;return(i={})[t.HOOKSCALL_KEY.BEFORE_COLSE]=[],i[t.HOOKSCALL_KEY.COLSED]=[],i}function K(i){var e;return(e={})[t.HOOKSCALL_KEY.BEFORE_COLSE]=function(e){i[t.HOOKSCALL_KEY.BEFORE_COLSE].push(e)},e[t.HOOKSCALL_KEY.COLSED]=function(e){i[t.HOOKSCALL_KEY.COLSED].push(e)},e}var J=window;function U(i,e,o,n){var s=e.pointerEvents?i.scrollWidth:i.clientWidth,a=e.pointerEvents?i.scrollHeight:i.clientHeight,r=J.getComputedStyle(i),h=i.style,l=n.style;return e.type!==t.LOADING_TYPES.DOM||e.pointerEvents||(i.style.pointerEvents="none"),r.position&&"static"!==r.position||(h.position="relative"),n.id=o,l.opacity="0",l.position="absolute",l.left="".concat(e.pointerEvents?0:i.scrollLeft,"px"),l.top="".concat(e.pointerEvents?0:i.scrollTop,"px"),l.zIndex=e.zIndex,l.transition="".concat(e.delayInto/1e3,"s ease-in-out"),l.backgroundColor=e.bgColor,l.borderRadius=r.borderRadius,"htmlcanvaselement"===x(n)?Z(n,s,a):"htmldivelement"===x(n)&&(l.width="".concat(s,"px"),l.height="".concat(a,"px"),l.display="flex",l.alignItems="center",l.justifyContent="center"),i.append(n),J.setTimeout((function(){return l.opacity="1"}),0),u(i,(function(){i.$store.loadingId=o})),i}function Z(t,i,e){var o=J.devicePixelRatio||1;t.width=i*o,t.height=e*o,t.style.width="".concat(i,"px"),t.style.height="".concat(e,"px")}var V=window,q=function(){function i(t){this.canvas=null,this.htmlElement=null,this.loadingId=null,this.element=null,this.hooks=null,this.resizeTimeId=null,this.options=Object.assign(s(),t)}return i.prototype.resize=function(t,i){var e=this;this.resizeTimeId||(this.resizeTimeId=V.setTimeout((function(){var o=i,n=t.clientWidth,s=t.clientHeight;o.width>t.clientWidth&&(n=t.offsetWidth,s=t.offsetHeight),e.canvas?(Z(o,n,s),t.$store&&F(n,s,o,e.options,t)):e.htmlElement&&(e.htmlElement.style.width="".concat(n,"px"),e.htmlElement.style.height="".concat(s,"px")),e.resizeTimeId=null}),this.options.delayInto))},i.prototype.close=function(i,e){var o=this,n=this.options,s=i.$store;V.setTimeout((function(){!function(i,e,o){o.style.opacity="0",e.type!==t.LOADING_TYPES.DOM&&(i.style.boxShadow="none")}(i,n,e),n.type!==t.LOADING_TYPES.DOM||n.pointerEvents||(i.style.pointerEvents="auto"),u(i,(function(){s&&(s.model=null,o.callEvent(t.HOOKSCALL_KEY.BEFORE_COLSE),s.animationId&&p(s.animationId)),n.type!==t.LOADING_TYPES.DOM?i.remove():e.remove(),o.loadingId=null,o.callEvent(t.HOOKSCALL_KEY.COLSED),o.hooks=_()}))}),s.loadingId?0:n.delayInto)},i.prototype.draw=function(t){var i=this.options;if(i.html){var e={content:X.document.createElement("div"),loadingId:f()},o=e.content,n=e.loadingId;this.htmlElement=o,this.htmlElement.innerHTML=i.html,this.loadingId=n,this.element=U(t,i,n,o)}else{var s={canvas:X.document.createElement("canvas"),hooks:_(),loadingId:f()},a=s.canvas,r=s.hooks;n=s.loadingId;this.canvas=a,this.hooks=r,this.loadingId=n,function(t,i,e){t.$store={options:i,animationId:void 0,loadingId:null,model:null,hookCall:K(e)}}(t,i,r),this.element=U(t,i,n,a),t.$store?F(a.offsetWidth,a.offsetHeight,a,this.options,t):c.error("WebLoading:canvas or ctx null")}},i.prototype.callEvent=function(t){this.hooks&&this.hooks[t].forEach((function(t){t()}))},i}(),$=window,tt=function(){function i(t){this.options=t,this.extendEl=this.initStyle()}return i.prototype.initStyle=function(){this.extendEl=$.document.createElement("div");var i=this.options,e="100vw",o="100vh",n="0px";return i&&(this.extendEl.classList.add("wl_"+(i.extendClass||"loading")),i.type===t.LOADING_TYPES.MINI&&(e="180px",o="160px",n="10px"),this.extendEl.style.cssText="\n          position:fixed;\n          width:".concat(e,";\n          height:").concat(o,";\n          top:50%;\n          left:50%;\n          transform:translate(-50%, -50%);\n          border-radius: ").concat(n,";\n          z-index: ").concat(i.zIndex,";\n          box-shadow:\n          2.8px 2.8px 2.2px rgba(0, 0, 0, 0.02),\n          6.7px 6.7px 5.3px rgba(0, 0, 0, 0.028),\n          12.5px 12.5px 10px rgba(0, 0, 0, 0.035),\n          22.3px 22.3px 17.9px rgba(0, 0, 0, 0.042),\n          41.8px 41.8px 33.4px rgba(0, 0, 0, 0.05),\n          100px 100px 80px rgba(0, 0, 0, 0.07)\n          ;\n      ")),$.document.body.appendChild(this.extendEl),this.extendEl},i.prototype.getElement=function(){return this.extendEl},i}(),it=window;function et(i){var e=new q(i),o=null;function n(t){if(e.element){var i=e.canvas;e.htmlElement&&(i=e.htmlElement),i?e[t](e.element,i):c.warn("Animation element not found!")}}return{loading:function(i,n){var s=Object.assign(e.options,n);if(!e.loadingId&&!o)if(s.type!==t.LOADING_TYPES.DOM&&(i=new tt(s).getElement()),i){var a=new Promise((function(t){it.setTimeout((function(){t(!0)}),s.notFeel)})),r=new Promise((function(t){o=t}));Promise.race([a,r]).then((function(n){n?e.draw(i):s.type!==t.LOADING_TYPES.DOM&&i.remove(),o=null}))}else c.error("The loading function cannot find an HTMLElement element!")},resize:function(){n("resize")},close:function(){o&&o(!1),n("close")},update:function(t){var i=e.canvas,o=Object.assign(e.options,t),n=e.element;i&&o&&n&&n.$store&&F(i.offsetWidth,i.offsetHeight,i,o,n)},getOptions:function(){return e.options},getLoadingId:function(){return e.loadingId}}}function ot(t,i){return et(Object.assign(s(),i||{},{type:t}))}t.BaseModel=w,t.fullLoading=function(i){return ot(t.LOADING_TYPES.FULL,i)},t.initLoading=et,t.miniLoading=function(i){return ot(t.LOADING_TYPES.MINI,i)},Object.defineProperty(t,"__esModule",{value:!0})}));
